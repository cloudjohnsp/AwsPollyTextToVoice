<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Text to Speech</title>
  </head>
  <body>
    <h1>Text to Speech</h1>
    <textarea
      id="text-input"
      rows="4"
      cols="50"
      placeholder="Enter text to convert to speech"
    ></textarea
    ><br />
    <button onclick="convertTextToSpeech()">Convert to Speech</button>
    <br />
    <h2>Audio Player</h2>
    <audio id="audio-player" controls></audio>

    <script>
      const apiUrl =
        'https://ijb05see12.execute-api.us-east-1.amazonaws.com/test/TextToVoice/convert-text-to-speech';

      async function convertTextToSpeech() {
        const text = document.getElementById('text-input').value;

        const response = await fetch(apiUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ text: text }),
        });

        if (response.ok) {
          const data = await response.json();
          const audioPlayer = document.getElementById('audio-player');
          audioPlayer.src = data.presigned_url;
          audioPlayer.play();
        } else {
          const error = await response.json();
          alert('Error: ' + error.message);
        }
      }
    </script>
  </body>
</html>
